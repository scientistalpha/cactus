<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">

    <title>To-Do List</title>
</head>
<body class="mb-5">

<div class="container">

    <div class="jumbotron">
        <h1 class="display-4">To-Do List</h1>
        {% if current_user.is_authenticated %}
            <p class="lead">Welcome {{ current_user.first_name }}</p>
        {% endif %}
    </div>

    <nav class="nav nav-tabs">
        {% if current_user.is_authenticated %}
            <a class="nav-link {% block home %}{% endblock %}" href={{ url_for('main') }}>Home</a>
            <a class="nav-link {% block add %}{% endblock %}" href={{ url_for('add') }}>Add task</a>
            {% if current_user.group =='admin' %}
                <a class="nav-link {% block admin %}{% endblock %}" href={{ url_for('admin') }}>Admin</a>
            {% endif %}
            <a class="nav-link" href={{ url_for('logout') }}>Logout</a>

        {% else %}
            <a class="nav-link {% block login %}{% endblock %}" href={{ url_for('login') }}>Login</a>
            <a class="nav-link {% block register %}{% endblock %}" href={{ url_for('register') }}>Register</a>
        {% endif %}
    </nav>
    <br/>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for c, m in messages %}
                <div class="alert alert-{{ c }} text-center" role="alert">
                    {{ m }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    {% block content %}
    {% endblock %}
</div>

</body>
</html>
